# Inventory & Crafting System

## Что реализовано

### Основной функционал
- **Хранение предметов** в инвентаре с поддержкой стаков
- **Система крафта** с настраиваемыми рецептами
- **Drag & Drop** предметов между различными типами слотов
- **Разделение стаков** через Shift+ЛКМ
- **Объединение стаков** при переносе (кроме панели крафта)
- **Автоматическое определение** доступных рецептов крафта
- **Удаление предметов** выносом в пустые зоны
- **Tooltip система** с детальной информацией о предметах

### Управление инвентарем
- Кнопка заполнения стартовыми предметами
- Кнопка полной очистки инвентаря
- Визуальное отображение состояния стаков

## Архитектура

### Core (Ядро системы)
- **`SlotAbstract`** (MonoBehaviour) - базовый класс для всех типов слотов
- **`ItemData`** (ScriptableObject) - данные предметов (название, описание, свойства)
- **`CraftingRecipe`** (ScriptableObject) - настройки рецептов крафта
- **`Ingredient`** - вспомогательный класс для описания ингредиентов
- **`ItemStack`** - логика и информация о стаках предметов

### Systems (Системы)
- **`InventorySystem`** - управление данными инвентаря
- **`CraftingSystem`** - логика крафта и проверки рецептов
- **`ItemRegistry`** - реестр предметов, создание стаков

### UI (Пользовательский интерфейс)
- **`InventoryUIController`** - визуальное отображение инвентаря
- **`CraftingUI`** - отображение панели крафта
- **`SlotUI`** - слоты инвентаря с обработкой взаимодействий
- **`CraftingSlot`** - слоты панели крафта для ингредиентов
- **`ResultCraftSlot`** - слот результата крафта
- **`DragAndDropController`** - управление переносом предметов
- **`TooltipSystem`** - отображение информации о предметах

### Communication (Взаимодействие)
- **`DragAndDropMessage`** - система сообщений для передачи данных о переносах между системами без прямых связей

### Initialization (Инициализация)
- **`GameInitializer`** - контролируемый запуск всех систем в правильном порядке

## Использованные инструменты и подходы

### Технологии Unity
- **ScriptableObject** - для хранения данных предметов и рецептов
- **MonoBehaviour** - для компонентов с логикой поведения
- **Unity UI System** - для построения интерфейса
- **Event-driven architecture** - через систему сообщений

### Архитектурные подходы
- **Separation of Concerns** - четкое разделение ответственности между системами
- **Message-based Communication** - взаимодействие через `DragAndDropMessage` без прямых зависимостей
- **Component-based Design** - модульная архитектура компонентов Unity
- **Data-driven Design** - настройка через ScriptableObjects

### Паттерны проектирования
- **Registry Pattern** - `ItemRegistry` как центральный реестр предметов
- **Abstract Factory** - `SlotAbstract` как базовый класс для слотов
- **Controller Pattern** - отдельные контроллеры для UI и систем
- **Initialization Pattern** - централизованная инициализация через `GameInitializer`

### Особенности реализации
- **Универсальная система переноса** - поддержка всех комбинаций: инвентарь-инвентарь, инвентарь-крафт, крафт-инвентарь, крафт-крафт
- **Гибкая идентификация слотов** - разные типы идентификаторов (Vector2Int для инвентаря, int для крафта)
- **Автоматический крафт** - мгновенное определение доступных рецептов при изменении ингредиентов
- **Расширяемость** - легко добавлять новые типы слотов и систем через наследование